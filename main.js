(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var n=function(){function n(e,o,r,i,a,c){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t(this,"_likeLoaderWrapper",(function(e,t,n){u._handleLikeClick(e,t,n).then((function(e){var t=e.likes;u._likes=t}))})),t(this,"render",void 0),this._item=e,this._name=this._item.name,this._link=this._item.link,this._cardId=this._item._id,this._ownerId=this._item.owner._id,this._likes=e.likes,this._cardSelector=o,this._cardElement=document.querySelector(this._cardSelector),this._handleCardClick=r,this._handleDeleteClick=i,this._handleLikeClick=a,this._myId=c}var o,r;return o=n,(r=[{key:"_getTemplate",value:function(){return this._cardElement.content.querySelector(".element").cloneNode(!0)}},{key:"_clickLikeButton",value:function(){this._element.querySelector(".element__like").classList.toggle("element__like_active")}},{key:"_clickRemoveButton",value:function(){this._element.remove()}},{key:"_checkIdCard",value:function(e){e===this._myId?this.showDeleteButtonCard():this._cardElement.content.querySelector(".element__delete").classList.remove("element__delete_visible")}},{key:"showDeleteButtonCard",value:function(){this._cardElement.content.querySelector(".element__delete").classList.add("element__delete_visible")}},{key:"_checkLike",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._myId}))}},{key:"addLike",value:function(){this._element.querySelector(".element__like").classList.add("element__like_active")}},{key:"removeLike",value:function(){this._element.querySelector(".element__like").classList.remove("element__like_active")}},{key:"countLikes",value:function(e){this._element.querySelector(".element__counter").textContent=e.length}},{key:"checkMylike",value:function(){this._checkLike()?this.addLike():this.removeLike()}},{key:"_setEventListeners",value:function(){var e=this,t=this._element.querySelector(".element__delete"),n=this._element.querySelector(".element__like"),o=this._element.querySelector(".element__img");t.addEventListener("click",(function(){var t=e._element;e._handleDeleteClick(e._item,t)})),n.addEventListener("click",(function(){e._likeLoaderWrapper(e._item,e,e._checkLike())})),o.addEventListener("click",(function(){e._handleCardClick(e._link,e._name)}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._element.querySelector(".element__caption").textContent=this._name,this._element.setAttribute("id",this._cardId),this._element.querySelector(".element__img").setAttribute("src","".concat(this._link)),this._element.querySelector(".element__img").setAttribute("alt","".concat(this._name)),this._checkIdCard(this._ownerId),this.showDeleteButtonCard(this._item),this._setEventListeners(),this.countLikes(this._likes),this.checkMylike(),this._element}}])&&e(o.prototype,r),n}();function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._validationForm=n,this._validationConig=t,this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._error=this._validationForm.querySelector(this._inputErrorClass),this._inputList=this._validationForm.querySelectorAll(this._inputSelector)}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e){this._validationForm.querySelector("#".concat(e.id,"-error")).textContent=e.validationMessage,e.classList.add(this._inputErrorClass)}},{key:"_hideInputError",value:function(e){this._validationForm.querySelector("#".concat(e.id,"-error")).textContent="",e.classList.remove(this._inputErrorClass)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_setEventListener",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e.setButtonState(e._validationConig)}))}))}},{key:"setButtonState",value:function(){var e=this._validationForm.querySelector(this._formSelector).checkValidity(),t=this._validationForm.querySelector(this._submitButtonSelector);e?(t.classList.remove(this._inactiveButtonClass),t.disabled=!1):(t.classList.add(this._inactiveButtonClass),t.disabled=!0)}},{key:"enableValidation",value:function(){this._setEventListener()}},{key:"clearError",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t),e._validationForm.querySelectorAll("#".concat(t.id,"-error")).forEach((function(e){e.textContent=""}))}))}}])&&o(t.prototype,n),e}();function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(t,n){var o=t.items,r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=o,this._renderer=r,this._container=n}var t,n;return t=e,(n=[{key:"renderCard",value:function(e){this._renderer(e)}},{key:"addItem",value:function(e){this._container.append(e)}},{key:"addNewItem",value:function(e){this._container.prepend(e)}}])&&i(t.prototype,n),e}();function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"_closePopupByEscape",(function(e){"Escape"===e.key&&n.close()})),u(this,"_closeByOverlay",(function(e){e.target.classList.contains("popup_visible")&&n.close()})),this._popupElement=t,this._popupContainer=this._popupElement.querySelector(".popup__container_type_form")}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupElement.classList.add("popup_visible"),this._handleEscClose(),this._handleOverlayClose()}},{key:"close",value:function(){this._popupElement.classList.remove("popup_visible"),this._removeListeners()}},{key:"_handleEscClose",value:function(){document.addEventListener("keydown",this._closePopupByEscape)}},{key:"_handleOverlayClose",value:function(){document.addEventListener("click",this._closeByOverlay)}},{key:"_removeListeners",value:function(){document.removeEventListener("keydown",this._closePopupByEscape),document.removeEventListener("click",this._closeByOverlay)}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.querySelector(".popup__button-close").addEventListener("click",(function(){e.close()}))}}])&&c(t.prototype,n),e}();function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(a,e);var t,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(o);if(r){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popupCardImage=t._popupElement.querySelector(".popup__picture"),t._captionImage=t._popupElement.querySelector(".popup__picture-caption"),t}return t=a,(n=[{key:"open",value:function(e,t){f(d(a.prototype),"open",this).call(this),this._popupCardImage.src=e,this._captionImage.alt=t,this._captionImage.textContent=t}}])&&p(t.prototype,n),a}(l);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t,n){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(a,e);var t,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E(o);if(r){var n=E(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function a(e,t){var n,o,r,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),c=function(e){e.preventDefault();var t=n._getInputValues();n._callBackSubmitForm(t)},(r="_formSubmit")in(o=g(n=i.call(this,e)))?Object.defineProperty(o,r,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[r]=c,n._callBackSubmitForm=t,n._popupContainer=n._popupElement.querySelector(".popup__container_type_form"),n._popupInputList=n._popupContainer.querySelectorAll(".popup__field"),n._buttonSubmit=n._popupElement.querySelector(".popup__button-submit"),n._normalButtonText=n._buttonSubmit.textContent,n}return t=a,(n=[{key:"_getInputValues",value:function(){var e={};return this._popupInputList.forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListenerSubmitConfirmation",value:function(e,t){var n=this;b(E(a.prototype),"setEventListeners",this).call(this),this._popupContainer.addEventListener("submit",(function o(r){r.preventDefault(),n._callBackSubmitForm(e,t),n._popupContainer.removeEventListener("submit",o)}))}},{key:"setEventListeners",value:function(){b(E(a.prototype),"setEventListeners",this).call(this),this._popupContainer.addEventListener("submit",this._formSubmit)}},{key:"close",value:function(){b(E(a.prototype),"close",this).call(this),this._popupContainer.reset()}},{key:"renderLoading",value:function(e){this._buttonSubmit.textContent=e?"".concat(this._buttonSubmit.textContent,"..."):this._normalButtonText}}])&&v(t.prototype,n),a}(l);function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var w=function(){function e(t){var n=t.profileNameSelector,o=t.profileJobSelector,r=t.profileAvatarButton;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._profileName=document.querySelector(n),this._profileJob=document.querySelector(o),this._profileAvatarButton=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._profileName.textContent,about:this._profileJob.textContent}}},{key:"setUserInfo",value:function(e){this._profileName.textContent=e.name,this._profileJob.textContent=e.about}},{key:"setUserAvatar",value:function(e){this._profileAvatarButton.style.backgroundImage="url(".concat(e.avatar,")")}}])&&C(t.prototype,n),e}();function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var I=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t,this._token=n}var t,n;return t=e,(n=[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getAllInitialCards",value:function(){var e=this;return fetch("".concat(this._url,"cards"),{method:"GET",headers:{authorization:this._token,"content-type":"application/json"}}).then((function(t){return e._getResponseData(t)}))}},{key:"addCard",value:function(e){var t=this;return fetch("".concat(this._url,"cards/"),{method:"POST",headers:{authorization:this._token,"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return t._getResponseData(e)}))}},{key:"getInfoProfile",value:function(){var e=this;return fetch("".concat(this._url,"users/me"),{method:"GET",headers:{authorization:this._token,"content-type":"application/json"}}).then((function(t){return e._getResponseData(t)}))}},{key:"addInfoProfile",value:function(e){var t=this;return fetch("".concat(this._url,"users/me"),{method:"PATCH",headers:{authorization:this._token,"content-type":"application/json"},body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return t._getResponseData(e)}))}},{key:"addInfoProfileAvatar",value:function(e){var t=this;return fetch("".concat(this._url,"users/me/avatar"),{method:"PATCH",headers:{authorization:this._token,"content-type":"application/json"},body:JSON.stringify({avatar:e.avatar})}).then((function(e){return t._getResponseData(e)}))}},{key:"deleteCard",value:function(e){var t=this;return fetch("".concat(this._url,"cards/").concat(e),{method:"DELETE",headers:{authorization:this._token,"content-type":"application/json"}}).then((function(e){return t._getResponseData(e)}))}},{key:"putLike",value:function(e){var t=this;return fetch("".concat(this._url,"cards/likes/").concat(e),{method:"PUT",headers:{authorization:this._token,"content-type":"application/json"}}).then((function(e){return t._getResponseData(e)}))}},{key:"deleteLike",value:function(e){var t=this;return fetch("".concat(this._url,"cards/likes/").concat(e),{method:"DELETE",headers:{authorization:this._token,"content-type":"application/json"}}).then((function(e){return t._getResponseData(e)}))}}])&&O(t.prototype,n),e}(),P=document.querySelector(".profile__button-info-eddit"),q=document.querySelector(".profile__button-add"),j=document.querySelector(".popup_type_edit-form"),B=document.querySelector(".popup_type_img"),R=document.querySelector(".popup_type_card"),D=document.querySelector(".popup_type_avatar"),T=document.querySelector(".popup_type_card-delete"),A=document.querySelector(".popup__container_type_eddit-form"),x=A.querySelector(".popup__field_type_name"),F=A.querySelector(".popup__field_type_job"),N=document.querySelector(".elements"),U=document.querySelector(".profile__avatar-img"),V={formSelector:".popup__container_type_form",formSelectorForm:".popup_type_card popup__container_type_eddit-form popup__container_type_avatar",inputSelector:".popup__field",submitButtonSelector:".popup__button-submit",inactiveButtonClass:"popup__button-submit_type_invalid",inputErrorClass:"popup__field_type_error"},z=new I("https://mesto.nomoreparties.co/v1/cohort-20/","4056c30d-f7e0-4f36-a996-b3ca58e8ceb0"),J=new r(V,D),M=new r(V,R),G=new r(V,j),H=new l(T),W=new y(B),K=new L(j,(function(e){K.renderLoading(!0),z.addInfoProfile(e).then((function(){Y.setUserInfo(e),K.close()})).catch((function(e){console.log(e,"Ошибка из handlePopupProfileSubmit")})).finally((function(){K.renderLoading(!1)}))})),Q=new L(R,(function(e){var t=new a({items:e,renderer:function(){Q.renderLoading(!0),z.addCard(e).then((function(e){var n=Z(e).generateCard();t.addNewItem(n)})).catch((function(e){console.log(e,"ошибка в addNewObjectCard")})).finally((function(){Q.renderLoading(!1)}))}},N);t.renderCard(),Q.close()})),X=new L(D,(function(e){X.renderLoading(!0),z.addInfoProfileAvatar(e).then((function(e){Y.setUserAvatar(e),X.close()})).catch((function(e){console.log(e,"err из handlePopupAvatareSubmit")})).finally((function(){X.renderLoading(!1)}))})),Y=new w({profileNameSelector:".profile__info-name",profileJobSelector:".profile__info-job",profileAvatarButton:".profile__avatar-img"});function Z(e,t){return new n(e,".template",$,ee,ne,t)}function $(e,t){W.open(e,t)}function ee(e,t){H.open(),new L(T,te).setEventListenerSubmitConfirmation(e,t)}function te(e,t){z.deleteCard(e._id).then((function(){t.remove(),H.close()})).catch((function(e){console.log(e,"err из handlePopupDeleteSubmit")}))}function ne(e,t,n){return n?z.deleteLike(e._id).then((function(e){return t.removeLike(),t.countLikes(e.likes),e})).catch((function(e){console.log(e)})):z.putLike(e._id).then((function(e){return t.addLike(),t.countLikes(e.likes),e})).catch((function(e){console.log(e)}))}Q.setEventListeners(),K.setEventListeners(),W.setEventListeners(),X.setEventListeners(),P.addEventListener("click",(function(){x.value=Y.getUserInfo().name,F.value=Y.getUserInfo().about,K.open(),G.clearError(),G.setButtonState()})),q.addEventListener("click",(function(){Q.open(),M.setButtonState(),M.clearError()})),U.addEventListener("click",(function(){X.open(),J.setButtonState(),J.clearError()})),J.enableValidation(),M.enableValidation(),G.enableValidation(),Promise.all([z.getInfoProfile(),z.getAllInitialCards()]).then((function(e){var t=e[0],n=e[0]._id,o=e[1],r=new a({items:o,renderer:function(){o.forEach((function(e){var t=Z(e,n);t._checkIdCard(e.owner._id);var o=t.generateCard();r.addItem(o)}))}},N);r.renderCard(),Y.setUserInfo(t),Y.setUserAvatar(t)})).catch((function(e){console.log(e)})).finally((function(){K.renderLoading(!1)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvY2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvZm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvc2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvcG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL3BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9wb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy91c2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvYXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sIm5hbWVzIjpbIkNhcmQiLCJpdGVtRGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwibXlJZCIsImRhdGFDYXJkIiwiZWxlbWVudCIsImNoZWNrTXlMaWtlIiwiX2hhbmRsZUxpa2VDbGljayIsInRoZW4iLCJsaWtlcyIsIl9saWtlcyIsInRoaXMiLCJfaXRlbSIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkSWQiLCJfaWQiLCJfb3duZXJJZCIsIm93bmVyIiwiX2NhcmRTZWxlY3RvciIsIl9jYXJkRWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2xpY2siLCJfbXlJZCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsImlkIiwic2hvd0RlbGV0ZUJ1dHRvbkNhcmQiLCJhZGQiLCJzb21lIiwibGlrZSIsImRhdGFDYXJkTGlrZXMiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsIl9jaGVja0xpa2UiLCJhZGRMaWtlIiwicmVtb3ZlTGlrZSIsImVsZW1lbnREZWxldGUiLCJlbGVtZW50TGlrZSIsImVsZW1lbnRJbWciLCJhZGRFdmVudExpc3RlbmVyIiwiX2xpa2VMb2FkZXJXcmFwcGVyIiwiX2dldFRlbXBsYXRlIiwic2V0QXR0cmlidXRlIiwiX2NoZWNrSWRDYXJkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiY291bnRMaWtlcyIsImNoZWNrTXlsaWtlIiwiRm9ybVZhbGlkYXRvciIsInZhbGlkYXRpb25Db25maWciLCJ2YWxpZGF0aW9uRm9ybSIsIl92YWxpZGF0aW9uRm9ybSIsIl92YWxpZGF0aW9uQ29uaWciLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yIiwiX2lucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dCIsInZhbGlkYXRpb25NZXNzYWdlIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5Iiwic2V0QnV0dG9uU3RhdGUiLCJpc0FjdGl2ZSIsImNoZWNrVmFsaWRpdHkiLCJidXR0b24iLCJkaXNhYmxlZCIsIl9zZXRFdmVudExpc3RlbmVyIiwiZXJyb3IiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW0iLCJlbGVtZW50Q2FyZCIsImFwcGVuZCIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwRWxlbWVudCIsImV2dCIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJfcG9wdXBFbGVtZW50IiwiX3BvcHVwQ29udGFpbmVyIiwiX2hhbmRsZUVzY0Nsb3NlIiwiX2hhbmRsZU92ZXJsYXlDbG9zZSIsIl9yZW1vdmVMaXN0ZW5lcnMiLCJfY2xvc2VQb3B1cEJ5RXNjYXBlIiwiX2Nsb3NlQnlPdmVybGF5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEltYWdlIiwiX3BvcHVwQ2FyZEltYWdlIiwiX2NhcHRpb25JbWFnZSIsInNyYyIsImFsdCIsIlBvcHVwV2l0aEZvcm0iLCJjYWxsQmFja1N1Ym1pdEZvcm0iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZGF0YSIsIl9nZXRJbnB1dFZhbHVlcyIsIl9jYWxsQmFja1N1Ym1pdEZvcm0iLCJfcG9wdXBJbnB1dExpc3QiLCJfYnV0dG9uU3VibWl0IiwiX25vcm1hbEJ1dHRvblRleHQiLCJpbnB1dERhdGEiLCJ2YWx1ZSIsImxpc3RlbmVyIiwiX2Zvcm1TdWJtaXQiLCJyZXNldCIsImlzTG9hZGluZyIsIlVzZXJJbmZvIiwicHJvZmlsZU5hbWVTZWxlY3RvciIsInByb2ZpbGVKb2JTZWxlY3RvciIsInByb2ZpbGVBdmF0YXJCdXR0b24iLCJfcHJvZmlsZU5hbWUiLCJfcHJvZmlsZUpvYiIsIl9wcm9maWxlQXZhdGFyQnV0dG9uIiwiYWJvdXQiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImF2YXRhciIsIkFwaSIsInVybCIsInRva2VuIiwiX3VybCIsIl90b2tlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwiX2dldFJlc3BvbnNlRGF0YSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicHJvZmlsZUJ1dHRvbkluZm9FZGRpdCIsInByb2ZpbGVCdXR0b25BZGQiLCJwb3B1cEVkaXRGb3JtIiwicG9wdXBJbWciLCJwb3B1cENhcmQiLCJwb3B1cEF2YXRhciIsInBvcHVwRGVsZXRlIiwicG9wdXBDb250YWluZXJFZGRpdEZvcm0iLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsImxpc3RDb250YWluZXJFbGVtZW50IiwiZm9ybVNlbGVjdG9yRm9ybSIsImFwaSIsImF2YXRhclZhbGlkYXRvciIsImNhcmRWYWxpZGF0b3IiLCJlZGRpdFZhbGlkYXRvciIsImRlbGV0ZVBvcHVwIiwicG9wdXBXaXRoSW1hZ2UiLCJwb3B1cFdpdGhGb3JtRWRkaXQiLCJyZW5kZXJMb2FkaW5nIiwiYWRkSW5mb1Byb2ZpbGUiLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZmluYWxseSIsInBvcHVwV2l0aEZvcm1DYXJkIiwic2VjdGlvbk5ld0NhcmQiLCJhZGRDYXJkIiwiY2FyZEVsZW1lbnQiLCJjcmVhdGVOZXdDYXJkIiwiZ2VuZXJhdGVDYXJkIiwiYWRkTmV3SXRlbSIsInJlbmRlckNhcmQiLCJwb3B1cFdpdGhGb3JtQXZhdGFyIiwiYWRkSW5mb1Byb2ZpbGVBdmF0YXIiLCJzZXRVc2VyQXZhdGFyIiwiY2FyZERhdGEiLCJvcGVuUG9wdXBJbWciLCJvcGVuUG9wdXBEZWxldGUiLCJzZXRMaWtlIiwib3BlbiIsImhhbmRsZVBvcHVwRGVsZXRlU3VibWl0Iiwic2V0RXZlbnRMaXN0ZW5lclN1Ym1pdENvbmZpcm1hdGlvbiIsImRlbGV0ZUNhcmQiLCJkZWxldGVMaWtlIiwicHV0TGlrZSIsInNldEV2ZW50TGlzdGVuZXJzIiwiZ2V0VXNlckluZm8iLCJjbGVhckVycm9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsImFsbCIsImdldEluZm9Qcm9maWxlIiwiZ2V0QWxsSW5pdGlhbENhcmRzIiwiZGF0YVByb2ZpbGUiLCJkYXRhSW5pdGlhbENhcmRzIiwic2VjdGlvbkRlZmF1bHQiLCJpbml0aWFsQ2FyZCIsImNhcmQiLCJhZGRJdGVtIl0sIm1hcHBpbmdzIjoiaVRBQU8sSUFBTUEsRUFBYixXQUNFLFdBQ0VDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEdBQ0EsWSw0RkFBQSxzQ0F5RW1CLFNBQUNDLEVBQVVDLEVBQVNDLEdBQ3ZDLEVBQUtDLGlCQUFpQkgsRUFBVUMsRUFBU0MsR0FBYUUsTUFBSyxZQUFlLElBQVpDLEVBQVksRUFBWkEsTUFDNUQsRUFBS0MsT0FBU0QsUUEzRWhCLHdCQUNBRSxLQUFLQyxNQUFRZCxFQUNiYSxLQUFLRSxNQUFRRixLQUFLQyxNQUFNRSxLQUN4QkgsS0FBS0ksTUFBUUosS0FBS0MsTUFBTUksS0FDeEJMLEtBQUtNLFFBQVVOLEtBQUtDLE1BQU1NLElBQzFCUCxLQUFLUSxTQUFXUixLQUFLQyxNQUFNUSxNQUFNRixJQUNqQ1AsS0FBS0QsT0FBU1osRUFBU1csTUFDdkJFLEtBQUtVLGNBQWdCdEIsRUFDckJZLEtBQUtXLGFBQWVDLFNBQVNDLGNBQWNiLEtBQUtVLGVBRWhEVixLQUFLYyxpQkFBbUJ6QixFQUN4QlcsS0FBS2UsbUJBQXFCekIsRUFDMUJVLEtBQUtKLGlCQUFtQkwsRUFDeEJTLEtBQUtnQixNQUFReEIsRSxRQXJCakIsTyxFQUFBLEcsRUFBQSwyQkF3QkUsV0FJRSxPQUhvQlEsS0FBS1csYUFBYU0sUUFDbkNKLGNBQWMsWUFDZEssV0FBVSxLQTNCakIsOEJBOEJFLFdBQ0VsQixLQUFLbUIsU0FDRk4sY0FBYyxrQkFDZE8sVUFBVUMsT0FBTywwQkFqQ3hCLGdDQW1DRSxXQUNFckIsS0FBS21CLFNBQVNHLFdBcENsQiwwQkFzQ0UsU0FBYUMsR0FDUEEsSUFBT3ZCLEtBQUtnQixNQUNkaEIsS0FBS3dCLHVCQUVMeEIsS0FBS1csYUFBYU0sUUFDZkosY0FB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QXdHakJxRixFQUFpQnZILGlCQUFpQixTQXJHbEMsV0FDRWtKLEVBQWtCZSxPQUVsQjdCLEVBQWNsRyxpQkFDZGtHLEVBQWNxQyxnQkFrR2hCOUUsRUFBb0IzRixpQkFBaUIsU0EvRnJDLFdBQ0UwSixFQUFvQk8sT0FDcEI5QixFQUFnQmpHLGlCQUNoQmlHLEVBQWdCc0MsZ0JBOEZsQnRDLEVBQWdCdUMsbUJBQ2hCdEMsRUFBY3NDLG1CQUNkckMsRUFBZXFDLG1CQUViL0QsUUFBUWdFLElBQUksQ0FDVnpDLEVBQUkwQyxpQkFDSjFDLEVBQUkyQyx1QkFFSHJOLE1BQUssU0FBQ29ILEdBQ0wsSUFBTWtHLEVBQWNsRyxFQUFLLEdBQ25CekgsRUFBT3lILEVBQUssR0FBRzFHLElBQ2Y2TSxFQUFtQm5HLEVBQUssR0FDeEJvRyxFQUFpQixJQUFJdkksRUFDekIsQ0FDRUUsTUFBT29JLEVBQ1BuSSxTQUFVLFdBQ1JtSSxFQUFpQi9JLFNBQVEsU0FBQ2lKLEdBRXhCLElBQU1DLEVBQU81QixFQUFjMkIsRUFBYTlOLEdBQ3hDK04sRUFBSzlLLGFBQWE2SyxFQUFZN00sTUFBTUYsS0FDcEMsSUFBTW1MLEVBQWM2QixFQUFLM0IsZUFDekJ5QixFQUFlRyxRQUFROUIsUUFJN0JyQixHQUVGZ0QsRUFBZXZCLGFBRWZkLEVBQVNDLFlBQVlrQyxHQUNyQm5DLEVBQVNpQixjQUFja0IsTUFFeEJqQyxPQUFNLFNBQUNDLEdBRU5DLFFBQVFDLElBQUlGLE1BRWJHLFNBQVEsV0FDUFQsRUFBbUJDLGVBQWMsTyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgaXRlbURhdGEsXHJcbiAgICBjYXJkU2VsZWN0b3IsXHJcbiAgICBoYW5kbGVDYXJkQ2xpY2ssXHJcbiAgICBoYW5kbGVEZWxldGVDbGljayxcclxuICAgIGhhbmRsZUxpa2VDbGljayxcclxuICAgIG15SWRcclxuICApIHtcclxuICAgIHRoaXMuX2l0ZW0gPSBpdGVtRGF0YTsgLy8g0LTQsNC90L3Ri9C1INGBINGB0LXRgNCy0LXRgNCwINC+INC60LDRgNGC0L7Rh9C60LVcclxuICAgIHRoaXMuX25hbWUgPSB0aGlzLl9pdGVtLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gdGhpcy5faXRlbS5saW5rO1xyXG4gICAgdGhpcy5fY2FyZElkID0gdGhpcy5faXRlbS5faWQ7XHJcbiAgICB0aGlzLl9vd25lcklkID0gdGhpcy5faXRlbS5vd25lci5faWQ7XHJcbiAgICB0aGlzLl9saWtlcyA9IGl0ZW1EYXRhLmxpa2VzO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3Rvcik7XHJcblxyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljazsgLy8gcG9wdXBEZWxldGVcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcclxuICAgIHRoaXMuX215SWQgPSBteUlkO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkgey8vINCy0L7Qt9Cy0YDQsNGJ0LDQtdGCINGI0LDQsdC70L7QvSDRgNCw0LfQvNC10YLQutC4INC60LDRgNGC0L7Rh9C60LhcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gdGhpcy5fY2FyZEVsZW1lbnQuY29udGVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50XCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG4gIF9jbGlja0xpa2VCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2VcIilcclxuICAgICAgLmNsYXNzTGlzdC50b2dnbGUoXCJlbGVtZW50X19saWtlX2FjdGl2ZVwiKTtcclxuICB9XHJcbiAgX2NsaWNrUmVtb3ZlQnV0dG9uKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICB9XHJcbiAgX2NoZWNrSWRDYXJkKGlkKSB7XHJcbiAgICBpZiAoaWQgPT09IHRoaXMuX215SWQpIHtcclxuICAgICAgdGhpcy5zaG93RGVsZXRlQnV0dG9uQ2FyZCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fY2FyZEVsZW1lbnQuY29udGVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2RlbGV0ZVwiKVxyXG4gICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKFwiZWxlbWVudF9fZGVsZXRlX3Zpc2libGVcIik7IC8v0YPQtNCw0LvQtdC90LjRjyDRgdCy0L7QudGB0YLQstCwIHZpc2libGUg0YMg0LrQvtGA0LfQuNC90LrQuCDQutCw0YDRgtC+0YfQutC4XHJcbiAgICB9XHJcbiAgfVxyXG4gIHNob3dEZWxldGVCdXR0b25DYXJkKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQuY29udGVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19kZWxldGVcIilcclxuICAgICAgLmNsYXNzTGlzdC5hZGQoXCJlbGVtZW50X19kZWxldGVfdmlzaWJsZVwiKTtcclxuICB9XHJcblxyXG4gIF9jaGVja0xpa2UoKSB7Ly90cnVlL2ZhbHNlXHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUoKGxpa2UpID0+IHtcclxuICAgICAgcmV0dXJuIGxpa2UuX2lkID09PSB0aGlzLl9teUlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRMaWtlKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlXCIpXHJcbiAgICAgIC5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fbGlrZV9hY3RpdmVcIik7XHJcbiAgfVxyXG4gIHJlbW92ZUxpa2UoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2VcIilcclxuICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoXCJlbGVtZW50X19saWtlX2FjdGl2ZVwiKTtcclxuICB9XHJcbiAgY291bnRMaWtlcyhkYXRhQ2FyZExpa2VzKSB7XHJcbiAgICBjb25zdCBjb3VudGVyRWxlbW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2NvdW50ZXJcIik7XHJcbiAgICBjb3VudGVyRWxlbW50LnRleHRDb250ZW50ID0gZGF0YUNhcmRMaWtlcy5sZW5ndGg7XHJcbiAgfVxyXG4gIGNoZWNrTXlsaWtlKCkge1xyXG4gICAgaWYgKHRoaXMuX2NoZWNrTGlrZSgpKSB7Ly8g0LXRgdC70LggdHJ1ZSAtINC80L7QuSDQu9Cw0LnQuiDQtdGB0YLRjC8gZmFsc2UgLdC80L7QtdCz0L4g0LvQsNC50Log0L3QtdGCXHJcbiAgICAgIHRoaXMuYWRkTGlrZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5yZW1vdmVMaWtlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIF9saWtlTG9hZGVyV3JhcHBlciA9IChkYXRhQ2FyZCwgZWxlbWVudCwgY2hlY2tNeUxpa2UpID0+IHtcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayhkYXRhQ2FyZCwgZWxlbWVudCwgY2hlY2tNeUxpa2UpLnRoZW4oKHsgbGlrZXMgfSkgPT4ge1xyXG4gICAgICB0aGlzLl9saWtlcyA9IGxpa2VzO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7Ly8g0LLRi9C30L7QsiDRgdC70YPRiNCw0YLQtdC70LXQuTog0LvQsNC50LosINGD0LTQsNC70LXQvdC40LUsIHBvcHVwSW1nIC0+KG9wZW4gbW9kYWwgLT4g0LTQvtCx0LDQstC70LXQvdC40LUg0YHQu9GD0YjQsNGC0LXQu9GPINC60LvQuNC60LAg0L/QviBvdmVybGF5KVxyXG5cclxuICAgIGNvbnN0IGVsZW1lbnREZWxldGUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fZGVsZXRlXCIpO1xyXG5cclxuICAgIGNvbnN0IGVsZW1lbnRMaWtlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2VcIik7XHJcbiAgICBjb25zdCBlbGVtZW50SW1nID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2ltZ1wiKTtcclxuXHJcbiAgICBlbGVtZW50RGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9lbGVtZW50O1xyXG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayh0aGlzLl9pdGVtLCBlbGVtZW50KTsgLy8g0LIgcG9wdXBEZWxldGUg0L/QtdGA0LXQtNCw0LXRgtGB0Y8gZGF0YS3QvtCx0YrQtdC60YIg0YEg0YHQtdGA0LLQtdGA0LAsIGVsZW1lbnQtIERPTSDRgNCw0LfQvNC10YLQutCwINC90L7QstC+0LPQviDRjdC60LfQtdC80L/Qu9GP0YDQsCDQutCw0YDRgtC+0YfQutC4XHJcbiAgICB9KTtcclxuXHJcbiAgICBlbGVtZW50TGlrZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9saWtlTG9hZGVyV3JhcHBlcih0aGlzLl9pdGVtLCB0aGlzLCB0aGlzLl9jaGVja0xpa2UoKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBlbGVtZW50SW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9saW5rLCB0aGlzLl9uYW1lKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTsgLy8g0LrQu9C+0L3QuNGA0L7QstCw0L3QuNC1INGI0LDQsdC70L7QvdCwINC60LDRgNGC0L7Rh9C60LhcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19jYXB0aW9uXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwiaWRcIiwgdGhpcy5fY2FyZElkKTtcclxuICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1nXCIpXHJcbiAgICAgIC5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgYCR7dGhpcy5fbGlua31gKTtcclxuICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1nXCIpXHJcbiAgICAgIC5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgYCR7dGhpcy5fbmFtZX1gKTtcclxuXHJcbiAgICB0aGlzLl9jaGVja0lkQ2FyZCh0aGlzLl9vd25lcklkKTtcclxuICAgIHRoaXMuc2hvd0RlbGV0ZUJ1dHRvbkNhcmQodGhpcy5faXRlbSk7XHJcblxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuY291bnRMaWtlcyh0aGlzLl9saWtlcyk7XHJcbiAgICB0aGlzLmNoZWNrTXlsaWtlKCk7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIHJlbmRlcjtcclxufVxyXG4iLCIvL2ltcG9ydCB7dmFsaWRhdGlvbkNvbmZpZ30gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJ1xyXG5cclxuZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHZhbGlkYXRpb25Db25maWcsIHZhbGlkYXRpb25Gb3JtKSB7XHJcbiAgICB0aGlzLl92YWxpZGF0aW9uRm9ybSA9IHZhbGlkYXRpb25Gb3JtOyAvLz0gLnBvcHVwX3R5cGVfY2FyZFxyXG4gICAgdGhpcy5fdmFsaWRhdGlvbkNvbmlnID0gdmFsaWRhdGlvbkNvbmZpZztcclxuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IHZhbGlkYXRpb25Db25maWcuZm9ybVNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHZhbGlkYXRpb25Db25maWcuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gdmFsaWRhdGlvbkNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSB2YWxpZGF0aW9uQ29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSB2YWxpZGF0aW9uQ29uZmlnLmlucHV0RXJyb3JDbGFzcztcclxuXHJcbiAgICB0aGlzLl9lcnJvciA9IHRoaXMuX3ZhbGlkYXRpb25Gb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3ZhbGlkYXRpb25Gb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3Rvcik7XHJcbiAgfVxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dCkge1xyXG4gICAgY29uc3QgZXJyb3IgPSB0aGlzLl92YWxpZGF0aW9uRm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcclxuICAgIGVycm9yLnRleHRDb250ZW50ID0gaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgfVxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dCkge1xyXG4gICAgY29uc3QgZXJyb3IgPSB0aGlzLl92YWxpZGF0aW9uRm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcclxuICAgIGVycm9yLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICB9XHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCkge1xyXG4gICAgY29uc3Qgc3RhdFZhbGlkID0gaW5wdXQudmFsaWRpdHkudmFsaWQ7XHJcblxyXG4gICAgaWYgKHN0YXRWYWxpZCkge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIF9zZXRFdmVudExpc3RlbmVyKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KTtcclxuICAgICAgICB0aGlzLnNldEJ1dHRvblN0YXRlKCB0aGlzLl92YWxpZGF0aW9uQ29uaWcpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBzZXRCdXR0b25TdGF0ZSgpIHtcclxuICAgIGNvbnN0IGlzQWN0aXZlID0gdGhpcy5fdmFsaWRhdGlvbkZvcm1cclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fZm9ybVNlbGVjdG9yKVxyXG4gICAgICAuY2hlY2tWYWxpZGl0eSgpOyAvLyB0cnVlL2ZhbHNlIGNoZWNrVmFsaWRpdHkg0YTQvtGA0LzRi1xyXG4gICAgY29uc3QgYnV0dG9uID0gdGhpcy5fdmFsaWRhdGlvbkZvcm0ucXVlcnlTZWxlY3RvcihcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcbiAgICBpZiAoaXNBY3RpdmUpIHtcclxuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVyKCk7XHJcbiAgfVxyXG5cclxuICBjbGVhckVycm9yKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7IC8v0LLRi9Cx0LjRgNCw0LXQvCDQstGB0LUg0LjQvdC/0YPRgtGLINCyINCw0LrRgtC40LLQvdC+0Lkg0YTQvtGA0LzQtVxyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICAgIGNvbnN0IGVycm9yTGlzdCA9IHRoaXMuX3ZhbGlkYXRpb25Gb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICAgICAgYCMke2lucHV0LmlkfS1lcnJvcmBcclxuICAgICAgKTsvLyDQstGL0LHRgNCw0LvQuCDQstGB0LUgc3BhbtGLXHJcbiAgICAgIGVycm9yTGlzdC5mb3JFYWNoKChlcnJvcikgPT4geyAvLyDQvtGH0LjRgdGC0LjQu9C4INGB0L7QvtCx0YnQtdC90LjQtSDQutCw0LbQtNC+0LPQviBzcGFuINCyINCw0LrRgtC40LLQvdC+0Lkg0YTQvtGA0LzQtVxyXG4gICAgICAgIGVycm9yLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zLFxyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlciwgXHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXJTZWxlY3RvcjtcclxuXHJcbiAgfVxyXG5cclxuICByZW5kZXJDYXJkKGl0ZW0pIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50Q2FyZCkge1xyXG4gICAgLy8g0L/RgNC40L3QuNC80LDQtdGCIERPTSDRjdC70LXQvNC10L3RgiDQuCDQtNC+0LHQsNCy0LvRj9C10YIg0LXQs9C+INCyINC60L7QvdGC0LXQudC90LXRgFxyXG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50Q2FyZCk7XHJcbiAgICBcclxuICB9XHJcbiAgYWRkTmV3SXRlbShlbGVtZW50Q2FyZCkge1xyXG5cclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnRDYXJkKTtcclxuICB9XHJcblxyXG5cclxuXHJcblxyXG59XHJcblxyXG5cclxuXHJcbiIsIlxyXG5leHBvcnQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwRWxlbWVudCkgey8vINGB0LXQu9C10LrRgtC+0YAg0LDQutGC0LjQvdCy0L7Qs9C+INC/0L7Qv9Cw0L/QsFxyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gcG9wdXBFbGVtZW50O1xyXG4gICAgdGhpcy5fcG9wdXBDb250YWluZXIgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIucG9wdXBfX2NvbnRhaW5lcl90eXBlX2Zvcm1cIlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX3Zpc2libGVcIik7XHJcblxyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UoKTtcclxuICAgIHRoaXMuX2hhbmRsZU92ZXJsYXlDbG9zZSgpO1xyXG4gIH1cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfdmlzaWJsZVwiKTtcclxuICAgIHRoaXMuX3JlbW92ZUxpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlKCkgey8vINGE0YPQvdC60YbQuNGPINC00L7QsdCw0LLQu9C10L3QuNGPINGB0LvRg9GI0LDRgtC10LvRjyDQvdCw0LbQsNGC0LjRjyDQvdCwIEVzY2FwZVxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fY2xvc2VQb3B1cEJ5RXNjYXBlKTtcclxuICB9XHJcbiAgX2hhbmRsZU92ZXJsYXlDbG9zZSgpIHsvL9GE0YPQvdC60YbQuNGPINC00L7QsdCw0LLQu9C10L3QuNGPINGB0LvRg9GI0LDRgtC10LvRjyDRgdC70LjQutCwINC/0L4gb3ZlcmxheVxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2Nsb3NlQnlPdmVybGF5KTtcclxuICB9XHJcblxyXG4gIF9yZW1vdmVMaXN0ZW5lcnMoKSB7Ly/RhNGD0L3QutGG0LjRjyDRg9C00LDQu9C10L3QuNC1INGB0LvRg9GI0LDRgtC10LvQtdC5INGB0L7QsdC40YLQuNGPINC90LDQttCw0YLQuNGPIEVzY2FwZSDQuCDQutC70LjQutCwINC/0L4gb3ZlcmxheVxyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fY2xvc2VQb3B1cEJ5RXNjYXBlKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9jbG9zZUJ5T3ZlcmxheSk7XHJcbiAgfVxyXG4gIF9jbG9zZVBvcHVwQnlFc2NhcGUgPSAoZXZ0KSA9PiB7Ly8g0YHRgtGA0LXQu9C+0YfQvdCw0Y8g0YTRg9C90LrRhtC40Y8g0L7QsdGA0LDQsdC+0YLQutC4INC90LDQttCw0YLQuNGPINC90LAg0LrQu9Cw0LLQuNGI0YMgRXNjYXBlINC4INC30LDQutGA0YvRgtC40Y8gcG9wdXBcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG4gIF9jbG9zZUJ5T3ZlcmxheSA9IChldnQpID0+IHsvLyDRgdC70YPRiNCw0YLQtdC70Ywg0LrQu9C40LrQsCDQt9Cw0LrRgNGL0YLQuNGPINC/0L4gb3ZlcmxheVxyXG4gICAgY29uc3QgY2hlY2tDbGFzc092ZXJsYXkgPSBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX3Zpc2libGVcIik7XHJcbiAgICBpZiAoY2hlY2tDbGFzc092ZXJsYXkpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkgey8vINGB0LvRg9GI0LDRgtC10LvRjCDQutC70LjQutCwINC/0L4g0LjQutC+0L3QutC1INC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwXHJcbiAgICBjb25zdCBidXR0b25DbG9zZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5wb3B1cF9fYnV0dG9uLWNsb3NlXCJcclxuICAgICk7XHJcbiAgICBidXR0b25DbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbn1cclxuXHJcblxyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL3BvcHVwLmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cEVsZW1lbnQpIHtcclxuICAgIHN1cGVyKHBvcHVwRWxlbWVudCk7XHJcbiAgICB0aGlzLl9wb3B1cENhcmRJbWFnZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19waWN0dXJlXCIpO1xyXG4gICAgdGhpcy5fY2FwdGlvbkltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3BpY3R1cmUtY2FwdGlvblwiKTtcclxuICB9XHJcbiAgb3BlbihzcmMsIGFsdCkge1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gICAgXHJcbiAgICB0aGlzLl9wb3B1cENhcmRJbWFnZS5zcmMgPSBzcmM7XHJcbiAgICB0aGlzLl9jYXB0aW9uSW1hZ2UuYWx0ID0gYWx0O1xyXG4gICAgdGhpcy5fY2FwdGlvbkltYWdlLnRleHRDb250ZW50ID0gYWx0O1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL3BvcHVwLmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwRWxlbWVudCwgY2FsbEJhY2tTdWJtaXRGb3JtKSB7XHJcbiAgICBzdXBlcihwb3B1cEVsZW1lbnQpXHJcbiAgICB0aGlzLl9jYWxsQmFja1N1Ym1pdEZvcm0gPSBjYWxsQmFja1N1Ym1pdEZvcm07XHJcbiAgICB0aGlzLl9wb3B1cENvbnRhaW5lciA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5wb3B1cF9fY29udGFpbmVyX3R5cGVfZm9ybVwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5fcG9wdXBJbnB1dExpc3QgPSB0aGlzLl9wb3B1cENvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICBcIi5wb3B1cF9fZmllbGRcIlxyXG4gICAgKTtcclxuICAgIHRoaXMuX2J1dHRvblN1Ym1pdCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b24tc3VibWl0XCIpO1xyXG4gICAgdGhpcy5fbm9ybWFsQnV0dG9uVGV4dCA9ICB0aGlzLl9idXR0b25TdWJtaXQudGV4dENvbnRlbnRcclxuICB9XHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgaW5wdXREYXRhID0ge307XHJcbiAgICB0aGlzLl9wb3B1cElucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dERhdGFbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGlucHV0RGF0YTsgLy/QtNCw0L3QvdGL0LUg0YEg0LjQvNC/0YPRgtC+0LIg0LLRgdC10YVcclxuICB9XHJcblxyXG4gIF9mb3JtU3VibWl0ID0gKGV2ZW50KSA9PiB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIGxldCBkYXRhID0gdGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKTtcclxuICAgIHRoaXMuX2NhbGxCYWNrU3VibWl0Rm9ybShkYXRhKTtcclxuXHJcbiAgfTtcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lclN1Ym1pdENvbmZpcm1hdGlvbihkYXRhLGVsZW1lbnQpe1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIGNvbnN0IGxpc3RlbmVyID0gKGV2ZW50KT0+e1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9jYWxsQmFja1N1Ym1pdEZvcm0oZGF0YSxlbGVtZW50KVxyXG4gICAgICB0aGlzLl9wb3B1cENvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGxpc3RlbmVyKVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX3BvcHVwQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGxpc3RlbmVyKVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcG9wdXBDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9mb3JtU3VibWl0KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX3BvcHVwQ29udGFpbmVyLnJlc2V0KCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZyl7XHJcblxyXG4gICAgaWYgKGlzTG9hZGluZyl7XHJcbiAgICAgIHRoaXMuX2J1dHRvblN1Ym1pdC50ZXh0Q29udGVudCA9IGAke3RoaXMuX2J1dHRvblN1Ym1pdC50ZXh0Q29udGVudH0uLi5gXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b25TdWJtaXQudGV4dENvbnRlbnQgPSB0aGlzLl9ub3JtYWxCdXR0b25UZXh0XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBwcm9maWxlTmFtZVNlbGVjdG9yLCBwcm9maWxlSm9iU2VsZWN0b3IsIHByb2ZpbGVBdmF0YXJCdXR0b259KSB7XHJcbiAgICB0aGlzLl9wcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZU5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wcm9maWxlSm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlSm9iU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcHJvZmlsZUF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUF2YXRhckJ1dHRvbilcclxuXHJcblxyXG4gIH1cclxuICBnZXRVc2VySW5mbygpIHtcclxuXHJcbiAgICBjb25zdCBwcm9maWxlID0ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgYWJvdXQ6IHRoaXMuX3Byb2ZpbGVKb2IudGV4dENvbnRlbnQsXHJcbiAgICAgIC8vYXZhdGFyOiB0aGlzLl9wcm9maWxlQXZhdGFyQnV0dG9uLnN0eWxlLmJhY2tncm91bmRJbWFnZVxyXG4gICAgfTtcclxuICAgIHJldHVybiBwcm9maWxlO1xyXG4gIH1cclxuICBzZXRVc2VySW5mbyhkYXRhKSB7XHJcblxyXG4gICAgdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9wcm9maWxlSm9iLnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcclxuXHJcbiAgfVxyXG5cclxuICBzZXRVc2VyQXZhdGFyKGRhdGEpe1xyXG4gICAgdGhpcy5fcHJvZmlsZUF2YXRhckJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPWB1cmwoJHtkYXRhLmF2YXRhcn0pYDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IodXJsLCB0b2tlbikge1xyXG4gICAgdGhpcy5fdXJsID0gdXJsO1xyXG4gICAgdGhpcy5fdG9rZW4gPSB0b2tlbjtcclxuICB9XHJcblxyXG4gIF9nZXRSZXNwb25zZURhdGEocmVzKSB7XHJcbiAgICBpZiAoIXJlcy5vaykge1xyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5qc29uKClcclxuICB9XHJcblxyXG4gIGdldEFsbEluaXRpYWxDYXJkcygpIHtcclxuXHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfWNhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcyk7XHJcbiAgICAgIH0pXHJcblxyXG4gIH1cclxuXHJcbiAgYWRkQ2FyZChkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfWNhcmRzL2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcyk7XHJcbiAgICAgIH0pXHJcblxyXG4gIH1cclxuXHJcbiAgZ2V0SW5mb1Byb2ZpbGUoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfXVzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcyk7XHJcbiAgICAgIH0pXHJcblxyXG4gIH1cclxuXHJcbiAgYWRkSW5mb1Byb2ZpbGUoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH11c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICBhYm91dDogZGF0YS5hYm91dCxcclxuICAgICAgfSksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpO1xyXG4gICAgICB9KVxyXG5cclxuICB9XHJcblxyXG4gIGFkZEluZm9Qcm9maWxlQXZhdGFyKGRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9dXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBkYXRhLmF2YXRhcixcclxuICAgICAgfSksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpO1xyXG4gICAgICB9KVxyXG5cclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoaWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9Y2FyZHMvJHtpZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKTtcclxuICAgICAgfSlcclxuXHJcbiAgfVxyXG5cclxuICBwdXRMaWtlKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfWNhcmRzL2xpa2VzLyR7aWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgIH0pXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKTs7XHJcbiAgICB9KVxyXG5cclxuICB9XHJcblxyXG5cclxuICBkZWxldGVMaWtlKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfWNhcmRzL2xpa2VzLyR7aWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcyk7XHJcbiAgICB9KVxyXG5cclxuICB9XHJcblxyXG5cclxufVxyXG5cclxuXHJcbiIsImV4cG9ydCBjb25zdCBwcm9maWxlQnV0dG9uSW5mb0VkZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19idXR0b24taW5mby1lZGRpdFwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVCdXR0b25BZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2J1dHRvbi1hZGRcIik7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEVkaXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2VkaXQtZm9ybVwiKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2ltZ1wiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwb3B1cENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfY2FyZFwiKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2F2YXRhclwiKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwRGVsZXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2NhcmQtZGVsZXRlXCIpXHJcblxyXG4gICAgICAgY29uc3QgcG9wdXBDb250YWluZXJFZGRpdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jb250YWluZXJfdHlwZV9lZGRpdC1mb3JtXCIpO1xyXG5leHBvcnQgY29uc3QgbmFtZUlucHV0ID0gcG9wdXBDb250YWluZXJFZGRpdEZvcm0ucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZmllbGRfdHlwZV9uYW1lXCIpO1xyXG5leHBvcnQgY29uc3Qgam9iSW5wdXQgPSBwb3B1cENvbnRhaW5lckVkZGl0Rm9ybS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19maWVsZF90eXBlX2pvYlwiKTtcclxuXHJcblxyXG5leHBvcnQgY29uc3QgbGlzdENvbnRhaW5lckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVBdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhci1pbWdcIikgO1xyXG5cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fY29udGFpbmVyX3R5cGVfZm9ybVwiLFxyXG4gIGZvcm1TZWxlY3RvckZvcm06XCIucG9wdXBfdHlwZV9jYXJkIHBvcHVwX19jb250YWluZXJfdHlwZV9lZGRpdC1mb3JtIHBvcHVwX19jb250YWluZXJfdHlwZV9hdmF0YXJcIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9fZmllbGRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvbi1zdWJtaXRcIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b24tc3VibWl0X3R5cGVfaW52YWxpZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9fZmllbGRfdHlwZV9lcnJvclwiLFxyXG59O1xyXG4iLCJpbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcclxuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvY2FyZC5qc1wiO1xyXG5cclxuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvZm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9zZWN0aW9uLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9wb3B1cC5qc1wiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvcG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvcG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvdXNlckluZm8uanNcIjtcclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9hcGkuanNcIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgcHJvZmlsZUJ1dHRvbkluZm9FZGRpdCxcclxuICBwcm9maWxlQnV0dG9uQWRkLFxyXG4gIHBvcHVwRWRpdEZvcm0sXHJcbiAgcG9wdXBJbWcsXHJcbiAgcG9wdXBDYXJkLFxyXG4gIHBvcHVwQXZhdGFyLFxyXG4gIHBvcHVwRGVsZXRlLFxyXG4gIG5hbWVJbnB1dCxcclxuICBqb2JJbnB1dCxcclxuICBsaXN0Q29udGFpbmVyRWxlbWVudCxcclxuICB2YWxpZGF0aW9uQ29uZmlnLFxyXG4gIHByb2ZpbGVBdmF0YXJCdXR0b24sXHJcbn0gZnJvbSBcIi4uL3NjcmlwdHMvdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpIChcclxuICBcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtMjAvXCIsXHJcbiAgXCI0MDU2YzMwZC1mN2UwLTRmMzYtYTk5Ni1iM2NhNThlOGNlYjBcIlxyXG4gICk7XHJcblxyXG5jb25zdCBhdmF0YXJWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBwb3B1cEF2YXRhcik7XHJcbmNvbnN0IGNhcmRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBwb3B1cENhcmQpO1xyXG5jb25zdCBlZGRpdFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIHBvcHVwRWRpdEZvcm0pO1xyXG5cclxuXHJcbmNvbnN0IGRlbGV0ZVBvcHVwID0gbmV3IFBvcHVwKHBvcHVwRGVsZXRlKTtcclxuXHJcbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwSW1nKTtcclxuY29uc3QgcG9wdXBXaXRoRm9ybUVkZGl0ID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgcG9wdXBFZGl0Rm9ybSxcclxuICBoYW5kbGVQb3B1cFByb2ZpbGVTdWJtaXRcclxuKTtcclxuY29uc3QgcG9wdXBXaXRoRm9ybUNhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cENhcmQsIGFkZE5ld09iamVjdENhcmQpO1xyXG5cclxuY29uc3QgcG9wdXBXaXRoRm9ybUF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIHBvcHVwQXZhdGFyLFxyXG4gIGhhbmRsZVBvcHVwQXZhdGFyZVN1Ym1pdFxyXG4pO1xyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gIHByb2ZpbGVOYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2luZm8tbmFtZVwiLFxyXG4gIHByb2ZpbGVKb2JTZWxlY3RvcjogXCIucHJvZmlsZV9faW5mby1qb2JcIixcclxuICBwcm9maWxlQXZhdGFyQnV0dG9uOiBcIi5wcm9maWxlX19hdmF0YXItaW1nXCJcclxufSk7XHJcbmZ1bmN0aW9uIGNyZWF0ZU5ld0NhcmQoY2FyZERhdGEsIG15SWQpIHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXHJcbiAgICBjYXJkRGF0YSxcclxuICAgIFwiLnRlbXBsYXRlXCIsXHJcbiAgICBvcGVuUG9wdXBJbWcsXHJcbiAgICBvcGVuUG9wdXBEZWxldGUsXHJcbiAgICBzZXRMaWtlLFxyXG4gICAgbXlJZFxyXG4gICk7XHJcbiAgcmV0dXJuIGNhcmQ7XHJcbn1cclxuZnVuY3Rpb24gYWRkTmV3T2JqZWN0Q2FyZChkYXRhQ2FyZCwpIHsvLyDRhNGD0L3QutGG0LjRjyDQtNC+0LHQvtCy0LvRj9C10YIg0LIg0YDQsNC30LzQtdGC0LrRgyDQutCw0YDRgtC+0YfQutGDINGBINCh0JXQoNCS0JXQoNCQXHJcblxyXG4gIGNvbnN0IHNlY3Rpb25OZXdDYXJkID0gbmV3IFNlY3Rpb24oXHJcbiAgICB7XHJcbiAgICAgIGl0ZW1zOiBkYXRhQ2FyZCxcclxuICAgICAgcmVuZGVyZXI6ICgpID0+IHtcclxuICAgICAgICBwb3B1cFdpdGhGb3JtQ2FyZC5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG4gICAgICAgIGFwaVxyXG4gICAgICAgICAgLmFkZENhcmQoZGF0YUNhcmQpXHJcbiAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjYXJkID0gY3JlYXRlTmV3Q2FyZChkYXRhKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuICAgICAgICAgICAgc2VjdGlvbk5ld0NhcmQuYWRkTmV3SXRlbShjYXJkRWxlbWVudCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLCBcItC+0YjQuNCx0LrQsCDQsiBhZGROZXdPYmplY3RDYXJkXCIpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgcG9wdXBXaXRoRm9ybUNhcmQucmVuZGVyTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBsaXN0Q29udGFpbmVyRWxlbWVudFxyXG4gICk7XHJcbiAgc2VjdGlvbk5ld0NhcmQucmVuZGVyQ2FyZCgpO1xyXG4gIHBvcHVwV2l0aEZvcm1DYXJkLmNsb3NlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9wZW5Qb3B1cEVkZGl0Rm9ybSgpIHtcclxuICBuYW1lSW5wdXQudmFsdWUgPSB1c2VySW5mby5nZXRVc2VySW5mbygpLm5hbWU7IC8v0L/QvtC00YLRj9C20LrQsCDRgSBwcm9maWxlLWluZm8g0LIg0YTQvtGA0LzRg1xyXG4gIGpvYklucHV0LnZhbHVlID0gdXNlckluZm8uZ2V0VXNlckluZm8oKS5hYm91dDtcclxuXHJcbiAgcG9wdXBXaXRoRm9ybUVkZGl0Lm9wZW4oKTtcclxuXHJcbiAgZWRkaXRWYWxpZGF0b3IuY2xlYXJFcnJvcigpO1xyXG4gIGVkZGl0VmFsaWRhdG9yLnNldEJ1dHRvblN0YXRlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9wZW5Qb3B1cENhcmQoKSB7XHJcbiAgcG9wdXBXaXRoRm9ybUNhcmQub3BlbigpO1xyXG5cclxuICBjYXJkVmFsaWRhdG9yLnNldEJ1dHRvblN0YXRlKCk7XHJcbiAgY2FyZFZhbGlkYXRvci5jbGVhckVycm9yKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9wZW5Qb3B1cEF2YXRhcigpIHtcclxuICBwb3B1cFdpdGhGb3JtQXZhdGFyLm9wZW4oKTtcclxuICBhdmF0YXJWYWxpZGF0b3Iuc2V0QnV0dG9uU3RhdGUoKTtcclxuICBhdmF0YXJWYWxpZGF0b3IuY2xlYXJFcnJvcigpO1xyXG59XHJcbmZ1bmN0aW9uIGhhbmRsZVBvcHVwQXZhdGFyZVN1Ym1pdChkYXRhKSB7XHJcbiAgcG9wdXBXaXRoRm9ybUF2YXRhci5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG4gIGFwaVxyXG4gICAgLmFkZEluZm9Qcm9maWxlQXZhdGFyKGRhdGEpXHJcbiAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKGRhdGEpXHJcbiAgICAgIHBvcHVwV2l0aEZvcm1BdmF0YXIuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIsIFwiZXJyINC40LcgaGFuZGxlUG9wdXBBdmF0YXJlU3VibWl0XCIpO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgcG9wdXBXaXRoRm9ybUF2YXRhci5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvcGVuUG9wdXBJbWcobGluaywgbmFtZSkge1xyXG4gIHBvcHVwV2l0aEltYWdlLm9wZW4obGluaywgbmFtZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVBvcHVwUHJvZmlsZVN1Ym1pdChkYXRhKSB7XHJcbiAgcG9wdXBXaXRoRm9ybUVkZGl0LnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgYXBpXHJcbiAgICAuYWRkSW5mb1Byb2ZpbGUoZGF0YSlcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7IC8vINCy0YHRgtCw0LLQu9GP0LXQvCDQvdC+0LLRi9C1INC30L3QsNGH0LXQvdC40Y8g0LzQtdGC0L7QtNC+0Lwgc2V0VXNlckluZm8g0LrQu9Cw0YHRgdCwIFVzZXJJbmZvLCBkYXRhIC0g0LTQsNC90L3Ri9C1INC/0L7Qu9GD0YfQtdC90L3Ri9C1INC40Lcg0LrQu9Cw0YHRgdCwIFBvcHVwV2l0aEZvcm1cclxuICAgICAgcG9wdXBXaXRoRm9ybUVkZGl0LmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyLCBcItCe0YjQuNCx0LrQsCDQuNC3IGhhbmRsZVBvcHVwUHJvZmlsZVN1Ym1pdFwiKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHBvcHVwV2l0aEZvcm1FZGRpdC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvcGVuUG9wdXBEZWxldGUoZGF0YSwgZWxlbWVudCkge1xyXG4gIGRlbGV0ZVBvcHVwLm9wZW4oKTtcclxuICBjb25zdCBwb3B1cFdpdGhGb3JtRGVsZXRlID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgICBwb3B1cERlbGV0ZSxcclxuICAgIGhhbmRsZVBvcHVwRGVsZXRlU3VibWl0XHJcbiAgKTtcclxuICBwb3B1cFdpdGhGb3JtRGVsZXRlLnNldEV2ZW50TGlzdGVuZXJTdWJtaXRDb25maXJtYXRpb24oZGF0YSwgZWxlbWVudCk7IC8vINGD0YHRgtCw0L3QvtCy0LjQu9C4INGE0YPQvdC60YbQuNGOINGB0LvRg9GI0LDRgtC10LvRjyDQv9C+IHN1Ym1pdCAo0LLRiyDRg9Cy0LXRgNC10L3Riz8pXHJcbn1cclxuZnVuY3Rpb24gaGFuZGxlUG9wdXBEZWxldGVTdWJtaXQoZGF0YSwgZWxlbWVudCkgey8v0YTRg9C90LrRhtC40Y8g0L/QvtC00LLQtdGA0LbQtNC10L3QuNGPINGD0LTQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcclxuICBhcGkuZGVsZXRlQ2FyZChkYXRhLl9pZClcclxuICAgIC50aGVuKCgpPT57XHJcbiAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgIGRlbGV0ZVBvcHVwLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpPT57XHJcbiAgICAgIGNvbnNvbGUubG9nKGVyciwgXCJlcnIg0LjQtyBoYW5kbGVQb3B1cERlbGV0ZVN1Ym1pdFwiKVxyXG4gICAgfSlcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldExpa2UoZGF0YUNhcmQsIGVsZW1lbnQsIGNoZWNrTXlMaWtlKSB7XHJcblxyXG4gIGlmIChjaGVja015TGlrZSkgey8vINC10YHQu9C4IHRydWUgLSDQvNC+0Lkg0LvQsNC50Log0LXRgdGC0YwsINC70LDQudC6INC90LDQtNC+INGD0LTQsNC70LjRgtGMLyDQtdGB0LvQuCBmYWxzZSAtINC70LDQudC60LAg0L3QtdGCLCDQvdCw0LTQviDQtNC+0LHQsNCy0LjRgtGMXHJcbiAgICByZXR1cm4gYXBpXHJcbiAgICAgIC5kZWxldGVMaWtlKGRhdGFDYXJkLl9pZClcclxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICBlbGVtZW50LnJlbW92ZUxpa2UoKTtcclxuICAgICAgICBlbGVtZW50LmNvdW50TGlrZXMoZGF0YS5saWtlcyk7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBhcGlcclxuICAgICAgLnB1dExpa2UoZGF0YUNhcmQuX2lkKVxyXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIGVsZW1lbnQuYWRkTGlrZSgpO1xyXG4gICAgICAgIGVsZW1lbnQuY291bnRMaWtlcyhkYXRhLmxpa2VzKTtcclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbnBvcHVwV2l0aEZvcm1DYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7IC8vINGD0YHRgtCw0L3QvtCy0LrQsCDRgdC70YPRiNCw0YLQtdC70Ywg0LrQu9C40LrQsCDQv9C+INC40LrQvtC90LrQtSDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsFxyXG5wb3B1cFdpdGhGb3JtRWRkaXQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBXaXRoRm9ybUF2YXRhci5zZXRFdmVudExpc3RlbmVycygpOyAvLyDQo9GB0YLQsNC90L7QstC60LAg0YHQu9GD0YjQsNGC0LXQu9GPINC60LvQuNC60LAg0L/QviDQuNC60L7QvdC60LUg0LfQsNC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAgcG9wdXBBdmF0YXJcclxuXHJcbnByb2ZpbGVCdXR0b25JbmZvRWRkaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5Qb3B1cEVkZGl0Rm9ybSk7XHJcbnByb2ZpbGVCdXR0b25BZGQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5Qb3B1cENhcmQpO1xyXG5wcm9maWxlQXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuUG9wdXBBdmF0YXIpO1xyXG5cclxuYXZhdGFyVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuY2FyZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmVkZGl0VmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbiAgUHJvbWlzZS5hbGwoW1xyXG4gICAgYXBpLmdldEluZm9Qcm9maWxlKCksXHJcbiAgICBhcGkuZ2V0QWxsSW5pdGlhbENhcmRzKCksXHJcbiAgXSlcclxuICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRhdGFQcm9maWxlID0gZGF0YVswXTtcclxuICAgICAgY29uc3QgbXlJZCA9IGRhdGFbMF0uX2lkO1xyXG4gICAgICBjb25zdCBkYXRhSW5pdGlhbENhcmRzID0gZGF0YVsxXTtcclxuICAgICAgY29uc3Qgc2VjdGlvbkRlZmF1bHQgPSBuZXcgU2VjdGlvbiggLy/RgdC+0LfQtNCw0LXQvCDRjdC60LfQtdC80L/Qu9GP0YAg0LrQu9Cw0YHRgdCwINC00LvRjyDQvdCw0YfQsNC70YzQvdGL0YUg0LrQsNGA0YLQvtGH0LXQulxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGl0ZW1zOiBkYXRhSW5pdGlhbENhcmRzLFxyXG4gICAgICAgICAgcmVuZGVyZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgZGF0YUluaXRpYWxDYXJkcy5mb3JFYWNoKChpbml0aWFsQ2FyZCkgPT4ge1xyXG4gICAgICAgICAgICAgIC8vINC/0LXRgNC10LHQvtGAINC/0L4g0LzQsNGB0YHQuNCy0LLRgyDQtNCw0L3QvdGL0YUg0YEg0L3QsNGH0LDQu9GM0L3Ri9C80Lgg0LrQsNGA0YLQvtGH0LrQsNC80LDQvNC4XHJcbiAgICAgICAgICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZU5ld0NhcmQoaW5pdGlhbENhcmQsIG15SWQpOyAvLyDRgdC+0LfQtNCw0LvQuCDRjdC60LfQtdC80L/Qu9GP0YAg0LTQu9GPINC60LDQttC00L7QuSDQutCw0YDRgtC+0YfQutC4XHJcbiAgICAgICAgICAgICAgY2FyZC5fY2hlY2tJZENhcmQoaW5pdGlhbENhcmQub3duZXIuX2lkKTsgLy8g0L/RgNC+0LLQtdGA0LrQsCDRh9GC0L4g0LrQsNGA0YLQvtGH0LrQsCDQvNC+0Y8g0Lgg0LXQtSDQvNC+0LbQvdC+INGD0LTQsNC70Y/RgtGMXHJcbiAgICAgICAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpOyAvL9GB0LPQtdC90LXRgNC40YDQvtCy0LDQu9C4INC30L/QvtC70L3QtdC90L3Ri9C5INGI0LDQsdC70L7QvSDQutCw0YDRgtC+0YfQutC4XHJcbiAgICAgICAgICAgICAgc2VjdGlvbkRlZmF1bHQuYWRkSXRlbShjYXJkRWxlbWVudCk7IC8vINC00L7QsdCw0LLQuNC70Lgg0LIg0YDQsNC30LzQtdGC0LrRg1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBsaXN0Q29udGFpbmVyRWxlbWVudFxyXG4gICAgICApO1xyXG4gICAgICBzZWN0aW9uRGVmYXVsdC5yZW5kZXJDYXJkKCk7IC8v0LLRgdC1INC00LDQvdC90YvQtSDQv9C+0LvRg9GH0LXQvdGLLCDQvtGC0YDQuNGB0L7QstGL0LLQsNC10Lwg0YHRgtGA0LDQvdC40YbRg1xyXG5cclxuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YVByb2ZpbGUpO1xyXG4gICAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKGRhdGFQcm9maWxlKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAvL9C/0L7Qv9Cw0LTQsNC10Lwg0YHRjtC00LAg0LXRgdC70Lgg0L7QtNC40L0g0LjQtyDQv9GA0L7QvNC40YHQvtCyINC30LDQstC10YDRiNC40YLRgdGPINC+0YjQuNCx0LrQvtC5XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBwb3B1cFdpdGhGb3JtRWRkaXQucmVuZGVyTG9hZGluZyhmYWxzZSk7XHJcbiAgICB9KTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==